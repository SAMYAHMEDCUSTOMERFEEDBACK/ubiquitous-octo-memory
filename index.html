<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Samy&Ahmed | Luxury Barber</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&family=Poppins:wght@400;600;700;800&display=swap');

/* ==========================================================
   VARIABLES & RESET
   ========================================================== */
:root {
    --primary-gold: #c9a24d;
    --bg-light: #f8f9fa;
    --card-light: #ffffff;
    --text-light: #333333;
    
    --bg-dark: #000000; 
    --card-dark: #000000;
    --text-dark: #ffffff;
    --border-light: #e0d8c3;
    --border-dark: #222222;
    
    /* NEW VARS FOR SCROLL EFFECT */
    --navbar-height: 55px;
    --banner-height: 200px;
    --banner-padding: 5px;
    --total-offset: calc(var(--banner-height) + 2 * var(--banner-padding)); /* 210px */
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    margin: 0; padding: 0;
    /* Ø§Ø³ØªØ®Ø¯Ø§Ù… Cairo Ù„Ù„Ø¹Ø±Ø¨ÙŠ Ùˆ Poppins Ù„Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ */
    font-family: 'Cairo', 'Poppins', sans-serif;
    background: var(--bg-light); 
    color: var(--text-light);
    overflow-x: hidden;
    /* Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¨Ø¯Ø¦ÙŠØ© Ù„Ù„Ù€ padding-top Ù‡ÙŠ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù€ Navbar Ùˆ Ø§Ù„Ù€ Banner */
    padding-top: calc(var(--navbar-height) + var(--total-offset) + 10px); /* 275px */
    font-size: 14px;
    /* transition: ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø³Ø±Ø¹Ø© Ø§Ù„Ø³Ù„Ø§Ø³Ø© Ù„ØªØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
    transition: padding-top 0.3s cubic-bezier(0.4, 0, 0.2, 1), background 0.3s, color 0.3s;
}

/* NEW: Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ±ØŒ ÙŠØªÙ… ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù€ padding-top */
body.scrolled {
    padding-top: calc(var(--navbar-height) + 10px); /* 65px */
}

/* ØªÙ†Ø³ÙŠÙ‚ Ø®Ø§Øµ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù„Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ */
html[lang="en"] body {
    font-family: 'Poppins', 'Cairo', sans-serif;
}

body.dark-mode {
    background: var(--bg-dark);
    color: var(--text-dark);
}

body.no-scroll { overflow: hidden; }

/* ==========================================================
   NAVBAR
   ========================================================== */
.navbar {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: var(--navbar-height);
    background: rgba(255, 255, 255, 0.98);
    display: flex;
    align-items: center;
    padding: 0 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    z-index: 1000;
    backdrop-filter: blur(8px);
    border-bottom: 1px solid rgba(0,0,0,0.05);
}

body.dark-mode .navbar {
    background: rgba(0, 0, 0, 0.95);
    border-bottom: 1px solid #222;
}

/* ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ± Ù„ÙŠÙƒÙˆÙ† Ø±Ø§Ø¨Ø· (<a>) */
.nav-logo {
    font-size: 18px;
    font-weight: 900;
    color: #000;
    letter-spacing: -0.5px;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    white-space: nowrap;
    z-index: 1;
    text-decoration: none; /* Ø¥Ø²Ø§Ù„Ø© Ø®Ø· Ø§Ù„Ø±Ø§Ø¨Ø· */
    transition: color 0.2s;
}
body.dark-mode .nav-logo { color: #fff; }
.nav-logo:hover {
    color: var(--primary-gold);
}

.nav-controls {
    display: flex;
    align-items: center;
    gap: 8px;
    position: relative;
    z-index: 10;
}

.menu-toggle-btn {
    font-size: 16px;
    background: none; 
    border: 1.5px solid #000;
    border-radius: 6px; 
    color: #000;
    cursor: pointer;
    width: 32px; height: 32px;
    display: flex; align-items: center; justify-content: center;
    padding-bottom: 2px;
    font-weight: bold;
}

body.dark-mode .menu-toggle-btn { border-color: #fff; color: #fff; }

/* ØªÙ… Ù†Ù‚Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
.theme-toggle-btn, .lang-toggle-btn { display: none; }

/* ==========================================================
   HERO IMAGE (ØµÙˆØ±Ø© Ø§Ù„Ø¨Ø§Ù†Ø±) - CSS DRIVEN
   ========================================================== */
.hero-image-container {
    position: fixed; 
    top: var(--navbar-height); 
    left: 0; right: 0;
    z-index: 999;
    
    padding: var(--banner-padding) 10px; 
    box-sizing: border-box; 
    background: var(--bg-light); 
    
    height: var(--total-offset); 
    opacity: 1; 
    
    /* NEW: Ø§Ø³ØªØ®Ø¯Ø§Ù… transform Ù„Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ø³Ù„Ø³Ø© */
    transform: translateY(0);
    /* NEW: ØªØ²Ø§Ù…Ù† Ø§Ù„Ø­Ø±ÙƒØ© Ù…Ø¹ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
body.dark-mode .hero-image-container {
    background: var(--bg-dark);
}

/* NEW: Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙƒØ±ÙˆÙ„ - Ø§Ù„ØµÙˆØ±Ø© ØªÙ†Ø²Ù„Ù‚ ÙˆØªØ®ØªÙÙŠ */
body.scrolled .hero-image-container {
    transform: translateY(calc(-1 * var(--total-offset))); /* -210px */
    opacity: 0;
}

.hero-image {
    width: 100%;
    height: var(--banner-height); 
    object-fit: cover; 
    object-position: center; 
    display: block;
    
    border-radius: 12px; 
    box-shadow: 0 2px 10px rgba(0,0,0,0.15); 
}


/* ==========================================================
   CONTAINER
   ========================================================== */
.container {
    max-width: 600px;
    margin: 10px auto; 
    background: var(--card-light);
    border-radius: 16px;
    padding: 20px 15px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.03);
    border: 1px solid var(--border-light);
    animation: fadeIn 0.4s ease-out;
}
body.dark-mode .container {
    background: var(--card-dark);
    border: 1px solid var(--border-dark);
    box-shadow: none;
}

@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

.subtitle { text-align: center; font-size: 13px; color: #777; margin-bottom: 15px; font-weight: 600; }
body.dark-mode .subtitle { color: #999; }
.header-separator { border: none; height: 1px; background-color: #eee; margin: 10px 0 20px 0; }
body.dark-mode .header-separator { background-color: #222; }

/* ==========================================================
   SIDE MENU
   ========================================================== */
.side-menu-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.7); z-index: 1001; 
    opacity: 0; visibility: hidden; transition: 0.3s; backdrop-filter: blur(2px);
}
.side-menu-overlay.active { opacity: 1; visibility: visible; }

.side-menu {
    position: fixed; top: 0; width: 260px; height: 100%;
    background-color: #fff; z-index: 1002;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex; flex-direction: column; box-shadow: -5px 0 20px rgba(0,0,0,0.15);
}

/* RTL (Default - Arabic) */
html[dir="rtl"] .side-menu {
    right: 0; 
    left: auto;
    transform: translateX(100%);
    box-shadow: -5px 0 20px rgba(0,0,0,0.15);
}
html[dir="rtl"] .side-menu.open { 
    transform: translateX(0); 
}

/* LTR (English) */
html[dir="ltr"] .side-menu {
    right: auto; 
    left: 0;
    transform: translateX(-100%); /* ØªØ¨Ø¯Ø£ Ù…Ø®ØªÙÙŠØ© Ø¬Ù‡Ø© Ø§Ù„ÙŠØ³Ø§Ø± */
    border-right: 1px solid #eee;
    box-shadow: 5px 0 20px rgba(0,0,0,0.15);
}
html[dir="ltr"] body.dark-mode .side-menu { border-right: 1px solid #222; border-left: none; }
html[dir="ltr"] .side-menu.open { 
    transform: translateX(0); /* ØªØ¸Ù‡Ø± Ø¨ØªØ­Ø±ÙŠÙƒÙ‡Ø§ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ± */
}

body.dark-mode .side-menu { background-color: #000; border-left: 1px solid #222; }


.menu-header { padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
body.dark-mode .menu-header { border-bottom: 1px solid #222; }
.menu-header h2 { margin: 0; font-size: 18px; color: var(--primary-gold); font-weight: 800; }
.close-btn { background: none; border: none; font-size: 24px; cursor: pointer; color: #333; }
body.dark-mode .close-btn { color: #fff; }

.menu-links { flex: 1; overflow-y: auto; padding: 10px 0; display: flex; flex-direction: column;} /* ØªÙ… Ø¥Ø¶Ø§ÙØ© ÙÙ„ÙŠÙƒØ³ Ù„Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© */

/* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¹Ø§Ø¯ÙŠØ© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
.menu-links a { 
    display: flex; align-items: center; padding: 15px 20px; text-decoration: none; 
    color: #333; font-size: 14px; font-weight: 700; border-bottom: 1px solid #f9f9f9; 
    transition: 0.2s; 
}

/* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø¹Ø·Ù„ (Ø¬Ø¯ÙŠØ¯) */
.menu-links .disabled-link {
    display: flex; 
    align-items: center;
    padding: 15px 20px;
    text-decoration: none;
    cursor: default; /* Ù…Ø¤Ø´Ø± Ø§Ù„Ù…Ø§ÙˆØ³ Ø§Ù„Ø¹Ø§Ø¯ÙŠ */
    opacity: 0.5; /* Ø¬Ø¹Ù„ Ø§Ù„Ù„ÙˆÙ† Ø¨Ø§Ù‡ØªØ§Ù‹ */
    pointer-events: none; /* ØªØ¹Ø·ÙŠÙ„ ØªÙØ§Ø¹Ù„Ø§Øª Ø§Ù„Ù…Ø§ÙˆØ³ ØªÙ…Ø§Ù…Ø§Ù‹ */
    color: #666; /* Ù„ÙˆÙ† Ù†Øµ Ø£Ø³Ø§Ø³ÙŠ Ø®ÙÙŠÙ */
    border-bottom: 1px solid #f9f9f9; 
    font-size: 14px; 
    font-weight: 700;
}
body.dark-mode .menu-links .disabled-link {
    color: #ccc;
    border-bottom: 1px solid #111;
}
/* Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø«ÙŠØ± Ø§Ù„ØªÙ…Ø±ÙŠØ± (hover) Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø¹Ø·Ù„ */
.menu-links .disabled-link:hover {
    background-color: transparent !important;
    color: #666 !important;
}
body.dark-mode .menu-links .disabled-link:hover {
    background-color: transparent !important;
    color: #ccc !important;
}


.menu-links a svg,
.menu-links .disabled-link svg { 
    width: 18px; height: 18px; margin-inline-end: 10px; min-width: 18px;
    color: #555;
    transition: color 0.2s;
}
.menu-links a:hover svg { color: var(--primary-gold); }

body.dark-mode .menu-links a { color: #fff; border-bottom: 1px solid #111; }
body.dark-mode .menu-links a svg { color: #ccc; }
.menu-links a:hover { background-color: #fffaf0; color: var(--primary-gold); }
body.dark-mode .menu-links a:hover { background-color: #111; }

/* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
.menu-controls-bottom {
    display: flex;
    justify-content: space-around;
    padding: 15px 10px;
    border-top: 1px solid #eee;
}
body.dark-mode .menu-controls-bottom {
    border-top: 1px solid #222;
}

.control-btn {
    flex-grow: 1;
    margin: 0 5px;
    height: 40px;
    border-radius: 8px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.control-btn svg { width: 18px; height: 18px; }

#themeBtn {
    background: var(--primary-gold);
    color: #fff;
    border: none;
    font-size: 18px;
    width: 40%;
}
#themeBtn:hover {
    background: #b08d3e;
}
#themeBtn svg { color: white; }

#langBtn {
    background: none;
    border: 1.5px solid var(--primary-gold);
    color: var(--primary-gold);
    font-size: 14px;
    width: 40%;
}
#langBtn:hover {
    background: #fffaf0;
}
body.dark-mode #langBtn {
    background: none;
    border: 1.5px solid var(--primary-gold);
    color: var(--primary-gold);
}
body.dark-mode #langBtn:hover {
    background: #1a1500;
}

.menu-footer { padding: 15px; background: #fffaf0; text-align: center; font-size: 12px; color: var(--primary-gold); font-weight: bold; border-top: 1px solid #eee; }
body.dark-mode .menu-footer { background: #050505; border-top: 1px solid #222; }

/* ==========================================================
   INPUTS & FORMS
   ========================================================== */
h3 { font-size: 15px; margin-bottom: 10px; color: var(--primary-gold); margin-top: 20px; display: flex; align-items: center; font-weight: 700; }
h3::before { content: ''; display: inline-block; width: 6px; height: 6px; background: var(--primary-gold); margin-inline-end: 8px; border-radius: 50%; }
/* LTR adjustment */
html[dir="ltr"] h3::before { margin-inline-end: 0; margin-inline-start: 8px; }

.options { display: flex; flex-direction: column; gap: 8px; }
.options label {
    display: flex; justify-content: space-between; align-items: center;
    padding: 12px;
    border-radius: 10px; background: #fcfcfc;
    border: 1px solid #eee; cursor: pointer; transition: all 0.2s;
    position: relative; overflow: hidden;
}
body.dark-mode .options label { background: #0a0a0a; border: 1px solid #222; }

.options label:hover { border-color: var(--primary-gold); background: #fffdf5; }
body.dark-mode .options label:hover { background: #111; }

.options label input { position: absolute; opacity: 0; cursor: pointer; height: 0; width: 0; }

/* Active State */
.options label:has(input:checked),
.options label.checked { 
    border: 1.5px solid var(--primary-gold) !important; 
    background: #fffaf0 !important; 
}
body.dark-mode .options label:has(input:checked),
body.dark-mode .options label.checked { 
    background: #1a1500 !important; 
    border-color: var(--primary-gold) !important; 
}

.service-name { font-size: 13px; font-weight: 600; color: #444; }
body.dark-mode .service-name { color: #eee; }
.service-price { font-size: 13px; font-weight: 800; color: var(--primary-gold); }

input[type="text"], input[type="tel"], input[type="datetime-local"], select, textarea {
    width: 100%; height: 45px;
    padding: 0 15px; border-radius: 10px;
    border: 1px solid #ddd; background: #fff; font-family: inherit;
    font-size: 14px; color: #333; outline: none; transition: 0.3s; margin-bottom: 10px;
}
body.dark-mode input, body.dark-mode select, body.dark-mode textarea {
    background: #0a0a0a; border: 1px solid #333; color: #fff;
}
input:focus, select:focus, textarea:focus { border-color: var(--primary-gold); box-shadow: 0 0 0 1px rgba(201, 162, 77, 0.3); }

textarea { height: 90px; padding-top: 10px; resize: none; }

#total-price { 
    background: #333; color: #fff; border: none; 
    font-weight: 900; font-size: 18px; text-align: center; letter-spacing: 1px; height: 50px;
}
body.dark-mode #total-price { background: #111; color: var(--primary-gold); border: 1px solid var(--primary-gold); }

.faces { display: flex; justify-content: space-around; background: #f8f8f8; padding: 12px; border-radius: 12px; }
body.dark-mode .faces { background: #111; }
.faces label { font-size: 28px; cursor: pointer; transition: 0.2s; filter: grayscale(100%); opacity: 0.5; }
.faces input { display: none; }
.faces label:has(input:checked), .faces label.checked { filter: grayscale(0%); opacity: 1; transform: scale(1.2); }

button[type="submit"] {
    width: 100%; height: 50px; margin-top: 20px; border: none; border-radius: 12px;
    background: var(--primary-gold); color: #fff; font-size: 16px; font-weight: 800; cursor: pointer;
    box-shadow: 0 5px 15px rgba(201, 162, 77, 0.25); transition: 0.2s;
}
button[type="submit"]:hover { background: #b08d3e; transform: translateY(-2px); }
button[type="submit"]:active { transform: scale(0.98); }

/* ==========================================================
   ICONS & FOOTER
   ========================================================== */
.social-icons { display: flex; justify-content: center; gap: 15px; margin: 25px 0; }
.social-btn {
    width: 42px; height: 42px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    text-decoration: none; border: 1px solid var(--primary-gold);
    background: transparent; transition: all 0.3s ease;
}
.social-btn svg { width: 20px; height: 20px; }
.social-btn svg path { fill: var(--primary-gold); transition: fill 0.3s; }
.social-btn:hover { background: var(--primary-gold); }
.social-btn:hover svg path { fill: #fff; }

.footer { text-align: center; font-size: 12px; color: #999; margin-bottom: 5px; }
/* NEW: Ø§Ø³Ù… Ø§Ù„Ù…Ø·ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
.designer-credit { text-align: center; font-size: 10px; color: #ccc; padding-top: 10px; border-top: 1px solid #eee; margin-top: 10px; }
body.dark-mode .designer-credit { border-color: #222; color: #555; }

/* ==========================================================
   AI & MODAL & NOTIFICATIONS
   ========================================================== */
/* Notification Card Styles */
.notification-card {
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 10px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    border-inline-start: 4px solid var(--primary-gold);
    transition: transform 0.2s;
}

body.dark-mode .notification-card {
    background: #111;
    border-color: var(--primary-gold);
    box-shadow: none;
}

.notification-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
}

.notification-card h4 {
    margin: 0 0 5px 0;
    font-size: 14px;
    font-weight: 800;
    color: var(--primary-gold);
}
.notification-card p {
    margin: 0;
    font-size: 12px;
    color: #666;
    line-height: 1.4;
}
body.dark-mode .notification-card p {
    color: #aaa;
}

/* AI Chat Specific Styles (Existing) */
.ai-card { 
    background: #f9fdfa; border: 1px solid #d1fae5; border-radius: 12px; padding: 20px; 
    text-align: center; margin-bottom: 10px; 
}
body.dark-mode .ai-card { background: #001a05; border: 1px solid #00330a; }

#ai-results {
    min-height: 200px;
    background: #fcfcfc;
    border: 1px solid #eee;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
}
body.dark-mode #ai-results {
    background: #0a0a0a;
    border-color: #222;
}

.message-box {
    padding: 10px;
    border-radius: 8px;
    max-width: 85%;
    line-height: 1.5;
    font-size: 13px;
    word-wrap: break-word;
}

.user-message {
    align-self: flex-start;
    background: #e0f7fa; /* Light Blue/Cyan */
    color: #000;
}
body.dark-mode .user-message {
    background: #004d66; 
    color: #fff;
}


.ai-message {
    align-self: flex-end;
    background: var(--primary-gold);
    color: #fff;
    font-weight: 600;
}

.loading-indicator {
    text-align: center;
    padding: 10px;
    font-weight: 700;
    color: var(--primary-gold);
}

.ai-form-controls {
    display: flex;
    gap: 10px;
}
.ai-form-controls input {
    flex-grow: 1;
    margin-bottom: 0;
}
.ai-form-controls button {
    height: 45px;
    width: 80px;
    margin-top: 0;
    border-radius: 10px;
    font-size: 14px;
}

/* Modal Styles (Existing) */
.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.85); z-index: 2000;
    display: flex; align-items: center; justify-content: center;
    opacity: 0; visibility: hidden; transition: 0.3s; backdrop-filter: blur(5px);
}
.modal-overlay.active { opacity: 1; visibility: visible; }
.modal-box {
    background: #fff; width: 85%; max-width: 320px;
    padding: 30px; border-radius: 20px; text-align: center;
    transform: scale(0.8); transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
body.dark-mode .modal-box { background: #111; border: 1px solid #333; }
.modal-overlay.active .modal-box { transform: scale(1); }
.modal-icon { font-size: 45px; margin-bottom: 15px; display: block; }
.modal-box h4 { margin: 10px 0; font-size: 18px; color: #333; font-weight: 800; }
body.dark-mode .modal-box h4 { color: #fff; }
.modal-box p { color: #666; font-size: 14px; line-height: 1.5; margin-bottom: 20px; }
body.dark-mode .modal-box p { color: #bbb; }
.modal-close-btn { background: var(--primary-gold); color: #fff; border: none; padding: 10px 25px; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 14px; }
</style>
</head>
<body>

<nav class="navbar">
    <div class="nav-controls">
        <button class="menu-toggle-btn" onclick="toggleMenu()">â˜°</button>
    </div>
    <!-- ØªÙ… ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø¥Ù„Ù‰ Ø±Ø§Ø¨Ø· ÙŠÙˆØ¬Ù‡ Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø¬Ø² (booking) -->
    <a href="javascript:void(0)" onclick="switchPage('booking')" class="nav-logo">Samy&Ahmed</a>
</nav>

<!-- >>>>>> START: User Image Section - ØªÙ… ÙˆØ¶Ø¹Ù‡Ø§ ØªØ­Øª Ø§Ù„Ø´Ø±ÙŠØ· Ù…Ø¨Ø§Ø´Ø±Ø© <<<<<< -->
<div class="hero-image-container" id="heroBanner">
    <img 
        src='https://i.postimg.cc/ZYGZXJ2J/626a5ef1-d026-452e-ad1b-9d7be9c8cdf9-317639046-483546660592342-5284860955526611779-n.jpg' 
        alt='ØµÙˆØ±Ø© ØºÙ„Ø§Ù ØµØ§Ù„ÙˆÙ† Samy & Ahmed' 
        class="hero-image"
    >
</div>
<!-- >>>>>> END: User Image Section <<<<<< -->


<div class="side-menu-overlay" id="overlay" onclick="toggleMenu()"></div>
<div class="side-menu" id="sideMenu">
    <div class="menu-header">
        <h2 data-i18n="menu_title">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h2>
        <button class="close-btn" onclick="toggleMenu()">Ã—</button>
    </div>
    <div class="menu-links">
        <a href="javascript:void(0)" onclick="switchPage('rating')">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
            <span data-i18n="menu_rating">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø©</span>
        </a>
        <a href="javascript:void(0)" onclick="switchPage('booking')">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/><path d="M9 16l2 2 4-4"/></svg>
            <span data-i18n="menu_booking">Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯</span>
        </a>
        <a href="javascript:void(0)" onclick="switchPage('notifications')">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
            <span data-i18n="menu_notifications">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶</span>
        </a>
        <a href="tel:+201022172940" onclick="toggleMenu()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-5.6-5.6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 3.08 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
            <span data-i18n="menu_call">Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø±</span>
        </a>
        <a href="https://wa.me/201022172940" target="_blank" onclick="toggleMenu()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22z"/></svg>
            <span data-i18n="menu_whatsapp">ÙˆØ§ØªØ³Ø§Ø¨</span>
        </a>
        <a href="https://www.instagram.com/samyandahmed" target="_blank" onclick="toggleMenu()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h20"/><path d="M3 18v-3a6 6 0 0 1 6-6h6a6 6 0 0 1 6 6v3"/><circle cx="12" cy="18" r="1"/></svg>
            <span data-i18n="menu_gallery">Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</span>
        </a>
        
        <span class="menu-link disabled-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 8V4"/><path d="M10 2h4"/><path d="M10 22h4"/><path d="M15 4c-5 0-7 2-7 6v2c0 4 2 6 7 6h1.5a1.5 1.5 0 0 0 0-3H15"/><path d="M12 18v4"/><path d="M17 18h-.5c-4 0-6-2-6-6v-2c0-4 2-6 7-6"/></svg>
            <span data-i18n="menu_ai">Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ (Ù‚Ø±ÙŠØ¨Ø§Ù‹)</span>
        </span>
        
        <div class="menu-controls-bottom">
             <button class="control-btn" onclick="toggleLanguage()" id="langBtn">EN</button>
             <button class="control-btn" onclick="toggleTheme()" id="themeBtn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
             </button>
        </div>
        
    </div>
    <div class="menu-footer">Samy & Ahmed Barber Shop</div>
</div>

<div id="rating-page" class="container">
    <div class="subtitle" data-i18n="rating_subtitle">Ù†Ù‚Ø¯Ù‘Ø± Ø±Ø£ÙŠÙƒâ€¦ ØªÙ‚ÙŠÙŠÙ…Ùƒ ÙŠÙ‡Ù…Ù‘Ù†Ø§</div>
    <hr class="header-separator"> 

    <form id="rating-form" onsubmit="handleFormSubmit(event, 'rating')">
        <select name="Ø§Ù„ÙØ±Ø¹" required>
            <option value="" disabled selected data-i18n="select_branch">--- Ø§Ø®ØªØ± Ø§Ù„ÙØ±Ø¹ ---</option>
            <option value="Ø¯Ù…ÙŠØ§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©/Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ø­Ø¬ÙˆØ¨" data-i18n="branch_mahgoub">Ø¯Ù…ÙŠØ§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©/Ù…Ù†ØªØµÙ Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ø­Ø¬ÙˆØ¨</option>
            <option value="Ø¯Ù…ÙŠØ§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©/Ù…ÙˆØ±ÙŠØ§ Ù…ÙˆÙ„" data-i18n="branch_moria">Ø¯Ù…ÙŠØ§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©/Ù…ÙˆØ±ÙŠØ§ Ù…ÙˆÙ„</option>
        </select>

        <h3 data-i18n="q_quality">Ø¬ÙˆØ¯Ø© Ø§Ù„Ø­Ù„Ø§Ù‚Ø© ÙˆØ§Ù„ØªØ³Ø±ÙŠØ­Ø©</h3>
        <div class="options">
            <label><input type="radio" name="Ø¬ÙˆØ¯Ø© Ø§Ù„Ø­Ù„Ø§Ù‚Ø©" value="Ù…Ù…ØªØ§Ø²" required onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_excellent">Ù…Ù…ØªØ§Ø²</span></label>
            <label><input type="radio" name="Ø¬ÙˆØ¯Ø© Ø§Ù„Ø­Ù„Ø§Ù‚Ø©" value="Ø¬ÙŠØ¯" onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_good">Ø¬ÙŠØ¯</span></label>
            <label><input type="radio" name="Ø¬ÙˆØ¯Ø© Ø§Ù„Ø­Ù„Ø§Ù‚Ø©" value="ØºÙŠØ± Ø±Ø§Ø¶Ù" onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_bad">ØºÙŠØ± Ø±Ø§Ø¶Ù</span></label>
        </div>

        <h3 data-i18n="q_hygiene">Ù†Ø¸Ø§ÙØ© Ø§Ù„ØµØ§Ù„ÙˆÙ†</h3>
        <div class="options">
            <label><input type="radio" name="Ù†Ø¸Ø§ÙØ© Ø§Ù„ØµØ§Ù„ÙˆÙ†" value="Ù…Ù…ØªØ§Ø²" required onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_excellent">Ù…Ù…ØªØ§Ø²</span></label>
            <label><input type="radio" name="Ù†Ø¸Ø§ÙØ© Ø§Ù„ØµØ§Ù„ÙˆÙ†" value="Ø¬ÙŠØ¯" onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_good">Ø¬ÙŠØ¯</span></label>
            <label><input type="radio" name="Ù†Ø¸Ø§ÙØ© Ø§Ù„ØµØ§Ù„ÙˆÙ†" value="ØºÙŠØ± Ø±Ø§Ø¶Ù" onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_bad">ØºÙŠØ± Ø±Ø§Ø¶Ù</span></label>
        </div>

        <h3 data-i18n="q_friendliness">ÙˆØ¯Ù‘ ÙˆÙ…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø­Ù„Ø§Ù‚</h3>
        <div class="options">
            <label><input type="radio" name="Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø­Ù„Ø§Ù‚" value="Ù…Ù…ØªØ§Ø²" required onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_excellent">Ù…Ù…ØªØ§Ø²</span></label>
            <label><input type="radio" name="Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø­Ù„Ø§Ù‚" value="Ø¬ÙŠØ¯" onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_good">Ø¬ÙŠØ¯</span></label>
            <label><input type="radio" name="Ù…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø­Ù„Ø§Ù‚" value="ØºÙŠØ± Ø±Ø§Ø¶Ù" onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_bad">ØºÙŠØ± Ø±Ø§Ø¶Ù</span></label>
        </div>

        <h3 data-i18n="q_timing">Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯</h3>
        <div class="options">
            <label><input type="radio" name="Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯" value="Ù…Ù…ØªØ§Ø²" required onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_excellent">Ù…Ù…ØªØ§Ø²</span></label>
            <label><input type="radio" name="Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯" value="Ø¬ÙŠØ¯" onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_good">Ø¬ÙŠØ¯</span></label>
            <label><input type="radio" name="Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯" value="ØºÙŠØ± Ø±Ø§Ø¶Ù" onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_bad">ØºÙŠØ± Ø±Ø§Ø¶Ù</span></label>
        </div>
        
        <h3 data-i18n="q_vibe">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¬Ùˆ Ø§Ù„Ø¹Ø§Ù… Ù„Ù„Ù…ÙƒØ§Ù†</h3>
        <div class="options">
            <label><input type="radio" name="Ø§Ù„Ø¬Ùˆ Ø§Ù„Ø¹Ø§Ù…" value="Ù…Ù…ØªØ§Ø² (Ù…Ø±ÙŠØ­ ÙˆÙ‡Ø§Ø¯Ø¦)" required onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_vibe_good">Ù…Ù…ØªØ§Ø² (Ù…Ø±ÙŠØ­ ÙˆÙ‡Ø§Ø¯Ø¦)</span></label>
            <label><input type="radio" name="Ø§Ù„Ø¬Ùˆ Ø§Ù„Ø¹Ø§Ù…" value="Ø¬ÙŠØ¯ (Ù…Ù‚Ø¨ÙˆÙ„)" onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_vibe_avg">Ø¬ÙŠØ¯ (Ù…Ù‚Ø¨ÙˆÙ„)</span></label>
            <label><input type="radio" name="Ø§Ù„Ø¬Ùˆ Ø§Ù„Ø¹Ø§Ù…" value="Ù…ØªÙˆØ³Ø· (ØµØ§Ø®Ø¨ ÙˆÙ…Ø²Ø¹Ø¬)" onchange="forceUpdateVisuals(this)"> <span class="service-name" data-i18n="opt_vibe_bad">Ù…ØªÙˆØ³Ø· (ØµØ§Ø®Ø¨ ÙˆÙ…Ø²Ø¹Ø¬)</span></label>
        </div>

        <h3 data-i18n="q_overall">Ø§Ù„Ø±Ø¶Ø§ Ø§Ù„Ø¹Ø§Ù…</h3>
        <div class="faces">
            <label>ğŸ˜<input type="radio" name="Ø§Ù„Ø±Ø¶Ø§ Ø§Ù„Ø¹Ø§Ù…" value="ğŸ˜" required onchange="forceUpdateVisuals(this)"></label>
            <label>ğŸ˜Š<input type="radio" name="Ø§Ù„Ø±Ø¶Ø§ Ø§Ù„Ø¹Ø§Ù…" value="ğŸ˜Š" onchange="forceUpdateVisuals(this)"></label>
            <label>ğŸ˜<input type="radio" name="Ø§Ù„Ø±Ø¶Ø§ Ø§Ù„Ø¹Ø§Ù…" value="ğŸ˜" onchange="forceUpdateVisuals(this)"></label>
        </div>

        <h3 data-i18n="sec_details">Ø¨ÙŠØ§Ù†Ø§ØªÙƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</h3>
        <input type="text" name="Ø§Ù„Ø§Ø³Ù…" placeholder="Ø§Ù„Ø§Ø³Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" data-i18n-placeholder="ph_name_opt">
        <input type="tel" name="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" data-i18n-placeholder="ph_phone_opt">
        <textarea name="Ù…Ù„Ø§Ø­Ø¸Ø§Øª" placeholder="Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ù‡Ù†Ø§..." data-i18n-placeholder="ph_notes"></textarea>
        
        <div style="margin-top: 10px;">
            <label style="display:flex; align-items:center; cursor:pointer; font-size: 13px; color: #888; padding: 0; background: none; border: none;">
                <input type="checkbox" name="Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª" value="Ù†Ø¹Ù…" style="width: auto; margin-inline-end: 10px; accent-color: #c9a24d; position: relative; opacity: 1; height: 15px; width: 15px;">
                <span data-i18n="hide_my_info">Ø£ÙØ¶Ù„ Ø¹Ø¯Ù… Ø¹Ø±Ø¶ Ø§Ø³Ù…ÙŠ ÙˆØ±Ù‚Ù… Ù‡Ø§ØªÙÙŠ Ù…Ø¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ….</span>
            </label>
        </div>

        <button type="submit" data-i18n="btn_send_rating">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</button>
    </form>
    
    <div class="social-icons">
        <a href="tel:+201022172940" class="social-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-5.6-5.6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 3.08 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
        </a>
        <a href="https://wa.me/201022172940" target="_blank" class="social-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22z"/></svg>
        </a>
        <a href="https://www.facebook.com/share/1BXRsi6j5r/" target="_blank" class="social-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
        </a>
        <a href="https://www.instagram.com/samyandahmed" target="_blank" class="social-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
        </a>
    </div>

    <div class="footer" data-i18n="footer_thanks">Ø´ÙƒØ±Ù‹Ø§ Ù„Ø«Ù‚ØªÙƒ â€“ Ù†Ø±Ø§Ùƒ Ù‚Ø±ÙŠØ¨Ù‹Ø§ ğŸ¤</div>
    <div class="designer-credit" data-i18n="designer_credit_text">ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Mustafa Zuhair</div>
</div>

<div id="booking-page" class="container" style="display:none;">
    <div class="subtitle" data-i18n="booking_subtitle">Ø§Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯Ùƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©</div>
    <hr class="header-separator"> 

    <form id="booking-form" onsubmit="handleFormSubmit(event, 'booking')">
        <select name="Ø§Ù„ÙØ±Ø¹" required>
            <option value="" disabled selected data-i18n="select_branch">--- Ø§Ø®ØªØ± Ø§Ù„ÙØ±Ø¹ ---</option>
            <option value="Ø¯Ù…ÙŠØ§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©/Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ø­Ø¬ÙˆØ¨" data-i18n="branch_mahgoub">Ø¯Ù…ÙŠØ§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©/Ù…Ù†ØªØµÙ Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ø­Ø¬ÙˆØ¨</option>
            <option value="Ø¯Ù…ÙŠØ§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©/Ù…ÙˆØ±ÙŠØ§ Ù…ÙˆÙ„" data-i18n="branch_moria">Ø¯Ù…ÙŠØ§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©/Ù…ÙˆØ±ÙŠØ§ Ù…ÙˆÙ„</option>
        </select>
        
        <input type="text" name="Ø§Ù„Ø§Ø³Ù…" placeholder="Ø§Ù„Ø§Ø³Ù…" required data-i18n-placeholder="ph_name">
        <input type="tel" name="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required data-i18n-placeholder="ph_phone">
        
        <h3 data-i18n="sec_datetime">ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù„Ø­Ø¬Ø²</h3>
        <input type="datetime-local" id="booking-date" name="Ø§Ù„Ù…ÙˆØ¹Ø¯" required>
        
        <h3 data-i18n="sec_packages">Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ø¬Ù…Ø¹Ø©</h3>
        <div class="options" id="packages-list">
            <label><input type="checkbox" name="services" value="Ø´Ø¹Ø± ÙˆØ¯Ù‚Ù†" data-price="200" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="pkg_hair_beard">Ù‚Øµ Ø´Ø¹Ø± + Ù‚Øµ Ø¯Ù‚Ù†</span> <span class="service-price" data-i18n="price_200">200 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ø´Ø¹Ø± ÙˆØ§Ø³ØªØ´ÙˆØ§Ø±/ÙƒÙŠØ±Ù„ÙŠ" data-price="200" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="pkg_hair_dry">Ù‚Øµ Ø´Ø¹Ø± + Ø§Ø³ØªØ´ÙˆØ§Ø± Ø£Ùˆ ÙƒÙŠØ±Ù„ÙŠ</span> <span class="service-price" data-i18n="price_200">200 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ø´Ø¹Ø± ÙˆØ¯Ù‚Ù† ÙˆØ§Ø³ØªØ´ÙˆØ§Ø±" data-price="250" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="pkg_hair_beard_dry">Ù‚Øµ Ø´Ø¹Ø± + Ù‚Øµ Ø¯Ù‚Ù† + Ø§Ø³ØªØ´ÙˆØ§Ø±</span> <span class="service-price" data-i18n="price_250">250 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ø¯Ù‚Ù† ÙˆØ§Ø³ØªØ´ÙˆØ§Ø±/ÙƒÙŠØ±Ù„ÙŠ" data-price="180" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="pkg_beard_dry">Ù‚Øµ Ø¯Ù‚Ù† + Ø§Ø³ØªØ´ÙˆØ§Ø± Ø£Ùˆ ÙƒÙŠØ±Ù„ÙŠ</span> <span class="service-price" data-i18n="price_180">180 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="ØµØ¨ØºØ©/Ø­Ù†Ø§ Ø´Ø¹Ø± ÙˆØ¯Ù‚Ù†" data-price="190" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="pkg_dye_all">ØµØ¨ØºØ©/Ø­Ù†Ø§ Ø´Ø¹Ø± + ØµØ¨ØºØ© Ø¯Ù‚Ù†</span> <span class="service-price" data-i18n="price_190">190 Ø¬.Ù…</span></label>
        </div>

        <h3 data-i18n="sec_single">Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ÙØ±Ø¯ÙŠØ© Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©</h3>
        <div class="options" id="individual-list">
            <label><input type="checkbox" name="services" value="Ù‚Øµ Ø´Ø¹Ø±" data-price="150" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_haircut">Ù‚Øµ Ø´Ø¹Ø±</span> <span class="service-price" data-i18n="price_150">150 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ù‚Øµ Ø´Ø¹Ø± Ù„Ù„Ø§Ø·ÙØ§Ù„" data-price="100" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_kids">Ù‚Øµ Ø´Ø¹Ø± Ù„Ù„Ø§Ø·ÙØ§Ù„</span> <span class="service-price" data-i18n="price_100">100 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ù‚Øµ Ø§Ù„Ø¯Ù‚Ù†" data-price="100" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_beard">Ù‚Øµ Ø§Ù„Ø¯Ù‚Ù†</span> <span class="service-price" data-i18n="price_100">100 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ø§Ø³ØªØ´ÙˆØ§Ø± Ø§Ùˆ ÙƒÙŠØ±Ù„ÙŠ Ø§Ùˆ ÙˆÙŠÚ¤ÙŠ" data-price="80" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_dry">Ø§Ø³ØªØ´ÙˆØ§Ø± Ø£Ùˆ ÙƒÙŠØ±Ù„ÙŠ Ø£Ùˆ ÙˆÙŠÚ¤ÙŠ</span> <span class="service-price" data-i18n="price_80">80 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="ØµØ¨ØºØ© Ø´Ø¹Ø±" data-price="120" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_dye_hair">ØµØ¨ØºØ© Ø´Ø¹Ø±</span> <span class="service-price" data-i18n="price_120">120 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="ØµØ¨ØºØ© Ø¯Ù‚Ù†" data-price="70" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_dye_beard">ØµØ¨ØºØ© Ø¯Ù‚Ù†</span> <span class="service-price" data-i18n="price_70">70 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="ØªÙˆØ¨ÙŠÙƒ" data-price="80" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_topic">ØªÙˆØ¨ÙŠÙƒ Ù„ÙØ±Ø§ØºØ§Øª Ø§Ù„Ø´Ø¹Ø±</span> <span class="service-price" data-i18n="price_80">80 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ø­Ù…Ø§Ù… Ø²ÙŠØª" data-price="150" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_oil">Ø­Ù…Ø§Ù… Ø²ÙŠØª</span> <span class="service-price" data-i18n="price_150">150 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ø­Ù…Ø§Ù… ÙƒØ±ÙŠÙ…" data-price="70" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_cream">Ø­Ù…Ø§Ù… ÙƒØ±ÙŠÙ…</span> <span class="service-price" data-i18n="price_70">70 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ø¬Ù„Ø³Ø© Ø¥Ø²Ø§Ù„Ø© Ù‚Ø´Ø±Ø©" data-price="130" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_dandruff">Ø¬Ù„Ø³Ø© Ø¥Ø²Ø§Ù„Ø© Ù‚Ø´Ø±Ø©</span> <span class="service-price" data-i18n="price_130">130 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ø¬Ù„Ø³Ø© Ø´Ù…Ø¹" data-price="100" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_wax">Ø¬Ù„Ø³Ø© Ø´Ù…Ø¹</span> <span class="service-price" data-i18n="price_100">100 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="ÙØªÙ„Ø©" data-price="50" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_thread">ÙØªÙ„Ø©</span> <span class="service-price" data-i18n="price_50">50 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ù…Ø§Ø³Ùƒ" data-price="70" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_mask">Ù…Ø§Ø³Ùƒ</span> <span class="service-price" data-i18n="price_70">70 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="ØªÙ†Ø¸ÙŠÙ Ø¨Ø´Ø±Ø©" data-price="300" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_clean">ØªÙ†Ø¸ÙŠÙ Ø¨Ø´Ø±Ø©</span> <span class="service-price" data-i18n="price_300">300 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="ØªÙ†Ø¸ÙŠÙ Ø¨Ø´Ø±Ø© Ù‡ÙŠØ¯Ø±Ø§ÙÙŠØ´ÙŠÙ„" data-price="500" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_hydra">ØªÙ†Ø¸ÙŠÙ Ø¨Ø´Ø±Ø© Ù‡ÙŠØ¯Ø±Ø§ÙÙŠØ´ÙŠÙ„</span> <span class="service-price" data-i18n="price_500">500 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ù…Ø¹Ø§Ù„Ø¬ Xtenso" data-price="500" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_xtenso">Ù…Ø¹Ø§Ù„Ø¬ Xtenso</span> <span class="service-price" data-i18n="price_500">500 Ø¬.Ù…</span></label>
            <label><input type="checkbox" name="services" value="Ø¨Ø±ÙˆØªÙŠÙ†" data-price="0" onchange="triggerCalculation(this)"> <span class="service-name" data-i18n="srv_protein">Ø¨Ø±ÙˆØªÙŠÙ† (Ø­Ø³Ø¨ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…)</span> <span class="service-price" data-i18n="price_protein">50 Ø¬.Ù…/Ø¬Ù…</span></label>
        </div>

        <h3 data-i18n="sec_total">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ</h3>
        <input type="text" id="total-price" value="0.00 Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ" readonly>
        <textarea name="Ù…Ù„Ø§Ø­Ø¸Ø§Øª" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ù…Ø«Ù„: Ù„Ø¯ÙŠ Ø­Ø³Ø§Ø³ÙŠØ© Ù…Ù† Ù…Ù†ØªØ¬ Ù…Ø¹ÙŠÙ†)" data-i18n-placeholder="ph_extra_notes"></textarea>
        
        <button type="submit" data-i18n="btn_confirm_booking">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²</button>
    </form>
    
    <div class="social-icons">
        <a href="tel:+201022172940" class="social-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-5.6-5.6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 3.08 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
        </a>
        <a href="https://wa.me/201022172940" target="_blank" class="social-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22z"/></svg>
        </a>
        <a href="https://www.facebook.com/share/1BXRsi6j5r/" target="_blank" class="social-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
        </a>
        <a href="https://www.instagram.com/samyandahmed" target="_blank" class="social-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>
        </a>
    </div>

    <div class="footer" data-i18n="footer_thanks">Ø´ÙƒØ±Ù‹Ø§ Ù„Ø«Ù‚ØªÙƒ â€“ Ù†Ø±Ø§Ùƒ Ù‚Ø±ÙŠØ¨Ù‹Ø§ ğŸ¤</div>
    <div class="designer-credit" data-i18n="designer_credit_text">ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Mustafa Zuhair</div>
</div>

<div id="ai-page" class="container" style="display:none;">
    <div class="subtitle" data-i18n="ai_subtitle">Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ</div>
    <hr class="header-separator"> 
    
    <div class="ai-card">
        <div style="font-size:40px;">ğŸ¤–</div>
        <h3 data-i18n="ai_header">Ù…Ø­ØªØ§Ø± ÙÙŠ Ù‚ØµØ© Ø´Ø¹Ø±ÙƒØŸ</h3>
        <p data-i18n="ai_desc">ØªØ­Ø¯Ø« Ù…Ø¹ Ø®Ø¨ÙŠØ± Ø§Ù„ØªØ¬Ù…ÙŠÙ„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†ØµØ§Ø¦Ø­ ÙÙˆØ±ÙŠØ©.</p>
    </div>

    <div id="ai-results" dir="ltr">
        <div class="ai-message message-box" data-i18n="ai_greeting" style="align-self: flex-end;">
            Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ! Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ Ù…Ù† ØµØ§Ù„ÙˆÙ† Ø³Ø§Ù…ÙŠ ÙˆØ£Ø­Ù…Ø¯. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø£Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ÙˆÙƒ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ø´Ø¹Ø±Ùƒ Ø£Ùˆ Ø¯Ù‚Ù†Ùƒ Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ù‡ØŸ
        </div>
    </div>

    <form onsubmit="handleAIChat(event)" class="ai-form-controls">
        <input type="text" id="ai-input" data-i18n-placeholder="ai_placeholder" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§..." required>
        <button type="submit" id="ai-send-btn" data-i18n="ai_btn_send">Ø¥Ø±Ø³Ø§Ù„</button>
    </form>

    <div class="footer" style="margin-top:20px;">ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Mustafa Zuhair</div>
</div>

<div id="notifications-page" class="container" style="display:none;">
    <div class="subtitle" data-i18n="notifications_subtitle">Ø£Ø­Ø¯Ø« Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª</div>
    <hr class="header-separator"> 
    
    <div id="notifications-list">
        <div class="notification-card" data-i18n="offer_summer">
            <h4><span data-i18n="offer_summer_h">Ø¹Ø±Ø¶ Ø§Ù„ØµÙŠÙ Ø§Ù„Ø°Ù‡Ø¨ÙŠ!</span></h4>
            <p><span data-i18n="offer_summer_p">Ø®ØµÙ… 20% Ø¹Ù„Ù‰ Ø®Ø¯Ù…Ø§Øª ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¨Ø´Ø±Ø© ÙˆØ§Ù„Ù‡ÙŠØ¯Ø±Ø§ÙÙŠØ´ÙŠÙ„ Ø·ÙˆØ§Ù„ Ø´Ù‡Ø± Ø£ØºØ³Ø·Ø³. Ù„Ø§ ØªÙÙˆØª Ø§Ù„ÙØ±ØµØ© Ù„Ù„Ø§Ø³ØªÙ…ØªØ§Ø¹ Ø¨Ø¨Ø´Ø±Ø© Ù…Ø´Ø±Ù‚Ø©.</span></p>
        </div>

        <div class="notification-card" data-i18n="offer_package">
            <h4><span data-i18n="offer_package_h">ØªÙˆÙÙŠØ± Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬Ø©</span></h4>
            <p><span data-i18n="offer_package_p">Ø§Ø­Ø¬Ø² Ø¨Ø§Ù‚Ø© 'Ø´Ø¹Ø± ÙˆØ¯Ù‚Ù†' ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø­Ù…Ø§Ù… ÙƒØ±ÙŠÙ… Ù…Ø¬Ø§Ù†ÙŠ. Ø§Ù„Ø¹Ø±Ø¶ Ø³Ø§Ø±ÙŠ Ø­ØªÙ‰ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù‚Ø§Ø¯Ù….</span></p>
        </div>

         <div class="notification-card" data-i18n="offer_branch_moria">
            <h4><span data-i18n="offer_branch_moria_h">Ø¹Ø±Ø¶ ÙØ±Ø¹ Ù…ÙˆØ±ÙŠØ§ Ù…ÙˆÙ„</span></h4>
            <p><span data-i18n="offer_branch_moria_p">Ø®Ø¯Ù…Ø© ØµØ¨ØºØ© Ø´Ø¹Ø± Ù…Ø¹ ØµØ¨ØºØ© Ø¯Ù‚Ù† Ø¨Ø³Ø¹Ø± 150 Ø¬Ù†ÙŠÙ‡Ø§Ù‹ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† 190 Ø¬Ù†ÙŠÙ‡Ø§Ù‹ (Ù„ÙØªØ±Ø© Ù…Ø­Ø¯ÙˆØ¯Ø©).</span></p>
        </div>

        <div class="notification-card" data-i18n="new_service_xtenso">
            <h4><span data-i18n="new_service_xtenso_h">Ø®Ø¯Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©: Ù…Ø¹Ø§Ù„Ø¬ Xtenso</span></h4>
            <p><span data-i18n="new_service_xtenso_p">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† Ø®Ø¯Ù…Ø© Ù…Ø¹Ø§Ù„Ø¬ Xtenso Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø´Ø¹Ø± Ø§Ù„Ù…Ø¬Ø¹Ø¯ Ø¥Ù„Ù‰ Ø´Ø¹Ø± Ù†Ø§Ø¹Ù… ÙˆÙ…Ø³ØªÙ‚ÙŠÙ… Ù„Ù…Ø¯Ø© Ø·ÙˆÙŠÙ„Ø©. Ø§Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯Ùƒ Ù„ØªØ¬Ø±Ø¨Ø© Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„ÙØ§Ø®Ø±Ø©.</span></p>
        </div>
    </div>

    <div class="footer" style="margin-top:20px;">ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Mustafa Zuhair</div>
</div>

<div id="modal-overlay" class="modal-overlay" onclick="closeModal()">
    <div class="modal-box" onclick="event.stopPropagation()">
        <span class="modal-icon" id="modal-icon">âœ…</span>
        <h4 id="modal-title" data-i18n="modal_success">ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!</h4>
        <p id="modal-msg" data-i18n="modal_thanks">Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ.</p>
        <button class="modal-close-btn" onclick="closeModal()" data-i18n="modal_close">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
</div>

<script>
    // ==========================================
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
    // ==========================================
    
    // Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ø°ÙŠ Ø£Ø±Ø³Ù„ØªÙ‡: 
    // Ø¥Ø°Ø§ Ø§Ø³ØªÙ…Ø±Øª Ù…Ø´ÙƒÙ„Ø© "Ø§Ù„Ù…ÙØªØ§Ø­ ØºÙŠØ± ØµØ­ÙŠØ­"ØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙØªØ§Ø­ Ø¬Ø¯ÙŠØ¯ ÙˆÙØ¹Ø§Ù„ Ù…Ù† Google AI Studio ÙˆØ§Ø³ØªØ¨Ø¯Ù„Ù‡ Ù‡Ù†Ø§.
    const API_KEY = "AIzaSyAxNMMcjvDvCSWMNXrrK6MSeW7TeZ0AbQc"; 
    
    const AI_MODEL = 'gemini-1.5-flash';
    const MAX_RETRIES = 3;

    // Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ù„Ù„Ù†Ø¸Ø§Ù… (ØªÙ… Ø¶Ø¨Ø·Ù‡Ø§ Ù„ØªØªØ­Ø¯Ø« Ø¨Ø§Ù„Ù…ØµØ±ÙŠØ©)
    const systemPrompt = "Ø£Ù†Øª Ø®Ø¨ÙŠØ± ØªØ¬Ù…ÙŠÙ„ Ù…ØªØ®ØµØµ ÙÙŠ ØµØ§Ù„ÙˆÙ† 'Samy & Ahmed Luxury Barber'. Ù…Ù‡Ù…ØªÙƒ Ù‡ÙŠ ØªÙ‚Ø¯ÙŠÙ… Ù†ØµØ§Ø¦Ø­ Ø³Ø±ÙŠØ¹Ø© ÙˆÙ…ÙÙŠØ¯Ø© Ø¹Ù† Ù‚ØµØ§Øª Ø§Ù„Ø´Ø¹Ø± ÙˆØ§Ù„Ø°Ù‚Ù† ÙˆØ§Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨Ø§Ù„Ø¨Ø´Ø±Ø©. ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ ÙˆØ¯ÙˆØ¯Ø© ÙˆÙ…Ø®ØªØµØ±Ø© (3-5 Ø¬Ù…Ù„). ÙˆØ§Ù„Ø£Ù‡Ù…: Ø¹Ù†Ø¯Ù…Ø§ ØªØ±Ø¯ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¹Ø§Ù…ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ© (Egyptian Colloquial Arabic) Ù„ØªØ¨Ø¯Ùˆ Ø·Ø¨ÙŠØ¹ÙŠØ§Ù‹ ÙˆÙ…Ø±ÙŠØ­Ø§Ù‹ Ù„Ù„Ø¹Ù…ÙŠÙ„.";

    
    // ==========================================
    // Translation Data
    // ==========================================
    const translations = {
        ar: {
            menu_title: "Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©",
            menu_rating: "ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø©",
            menu_booking: "Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯",
            menu_notifications: "Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶",
            menu_call: "Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø±",
            menu_whatsapp: "ÙˆØ§ØªØ³Ø§Ø¨",
            menu_gallery: "Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±",
            menu_ai: "Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ (Ù‚Ø±ÙŠØ¨Ø§Ù‹)", 
            rating_subtitle: "Ù†Ù‚Ø¯Ù‘Ø± Ø±Ø£ÙŠÙƒâ€¦ ØªÙ‚ÙŠÙŠÙ…Ùƒ ÙŠÙ‡Ù…Ù‘Ù†Ø§",
            notifications_subtitle: "Ø£Ø­Ø¯Ø« Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„Ø®ØµÙˆÙ…Ø§Øª",
            select_branch: "--- Ø§Ø®ØªØ± Ø§Ù„ÙØ±Ø¹ ---",
            branch_mahgoub: "Ø¯Ù…ÙŠØ§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©/Ù…Ù†ØªØµÙ Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ø­Ø¬ÙˆØ¨",
            branch_moria: "Ø¯Ù…ÙŠØ§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©/Ù…ÙˆØ±ÙŠØ§ Ù…ÙˆÙ„",
            q_quality: "Ø¬ÙˆØ¯Ø© Ø§Ù„Ø­Ù„Ø§Ù‚Ø© ÙˆØ§Ù„ØªØ³Ø±ÙŠØ­Ø©",
            q_hygiene: "Ù†Ø¸Ø§ÙØ© Ø§Ù„ØµØ§Ù„ÙˆÙ†",
            q_friendliness: "ÙˆØ¯Ù‘ ÙˆÙ…Ø¹Ø§Ù…Ù„Ø© Ø§Ù„Ø­Ù„Ø§Ù‚",
            q_timing: "Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯",
            q_vibe: "ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¬Ùˆ Ø§Ù„Ø¹Ø§Ù… Ù„Ù„Ù…ÙƒØ§Ù†",
            q_overall: "Ø§Ù„Ø±Ø¶Ø§ Ø§Ù„Ø¹Ø§Ù…",
            opt_excellent: "Ù…Ù…ØªØ§Ø²",
            opt_good: "Ø¬ÙŠØ¯",
            opt_bad: "ØºÙŠØ± Ø±Ø§Ø¶Ù",
            opt_vibe_good: "Ù…Ù…ØªØ§Ø² (Ù…Ø±ÙŠØ­ ÙˆÙ‡Ø§Ø¯Ø¦)",
            opt_vibe_avg: "Ø¬ÙŠØ¯ (Ù…Ù‚Ø¨ÙˆÙ„)",
            opt_vibe_bad: "Ù…ØªÙˆØ³Ø· (ØµØ§Ø®Ø¨ ÙˆÙ…Ø²Ø¹Ø¬)",
            sec_details: "Ø¨ÙŠØ§Ù†Ø§ØªÙƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
            ph_name_opt: "Ø§Ù„Ø§Ø³Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
            ph_phone_opt: "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
            ph_notes: "Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ù‡Ù†Ø§...",
            hide_my_info: "Ø£ÙØ¶Ù„ Ø¹Ø¯Ù… Ø¹Ø±Ø¶ Ø§Ø³Ù…ÙŠ ÙˆØ±Ù‚Ù… Ù‡Ø§ØªÙÙŠ Ù…Ø¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ….",
            btn_send_rating: "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…",
            footer_thanks: "Ø´ÙƒØ±Ù‹Ø§ Ù„Ø«Ù‚ØªÙƒ â€“ Ù†Ø±Ø§Ùƒ Ù‚Ø±ÙŠØ¨Ù‹Ø§ ğŸ¤",
            booking_subtitle: "Ø§Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯Ùƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©",
            ph_name: "Ø§Ù„Ø§Ø³Ù…",
            ph_phone: "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",
            sec_datetime: "ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù„Ø­Ø¬Ø²",
            sec_packages: "Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ø¬Ù…Ø¹Ø©",
            sec_single: "Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ÙØ±Ø¯ÙŠØ© Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©",
            sec_total: "Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ",
            ph_extra_notes: "Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ù…Ø«Ù„: Ù„Ø¯ÙŠ Ø­Ø³Ø§Ø³ÙŠØ© Ù…Ù† Ù…Ù†ØªØ¬ Ù…Ø¹ÙŠÙ†)",
            btn_confirm_booking: "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²",
            ai_subtitle: "Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ",
            ai_header: "Ù…Ø­ØªØ§Ø± ÙÙŠ Ù‚ØµØ© Ø´Ø¹Ø±ÙƒØŸ",
            ai_desc: "ØªØ­Ø¯Ø« Ù…Ø¹ Ø®Ø¨ÙŠØ± Ø§Ù„ØªØ¬Ù…ÙŠÙ„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†ØµØ§Ø¦Ø­ ÙÙˆØ±ÙŠØ©.",
            ai_greeting: "Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ! Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ Ù…Ù† ØµØ§Ù„ÙˆÙ† Ø³Ø§Ù…ÙŠ ÙˆØ£Ø­Ù…Ø¯. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø£Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ÙˆÙƒ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ø´Ø¹Ø±Ùƒ Ø£Ùˆ Ø¯Ù‚Ù†Ùƒ Ø§Ù„Ù†Ù‡Ø§Ø±Ø¯Ù‡ØŸ",
            ai_placeholder: "Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§...",
            ai_btn_send: "Ø¥Ø±Ø³Ø§Ù„",
            modal_success: "ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!",
            modal_thanks: "Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ.",
            modal_close: "Ø¥ØºÙ„Ø§Ù‚",
            modal_rating_title: "Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ!",
            modal_rating_msg: "Ø±Ø£ÙŠÙƒ ÙŠÙ‡Ù…Ù†Ø§ ÙˆÙŠØ³Ø§Ø¹Ø¯Ù†Ø§ ÙÙŠ Ø§Ù„ØªØ·ÙˆÙŠØ±.",
            modal_booking_title: "ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø­Ø¬Ø²",
            modal_booking_msg: "Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…ÙˆØ¹Ø¯.",
            currency: "Ø¬.Ù…",
            designer_credit_text: "ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Mustafa Zuhair", /* FINAL UPDATE */
            
            // Notification Messages
            offer_summer_h: "Ø¹Ø±Ø¶ Ø§Ù„ØµÙŠÙ Ø§Ù„Ø°Ù‡Ø¨ÙŠ!",
            offer_summer_p: "Ø®ØµÙ… 20% Ø¹Ù„Ù‰ Ø®Ø¯Ù…Ø§Øª ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¨Ø´Ø±Ø© ÙˆØ§Ù„Ù‡ÙŠØ¯Ø±Ø§ÙÙŠØ´ÙŠÙ„ Ø·ÙˆØ§Ù„ Ø´Ù‡Ø± Ø£ØºØ³Ø·Ø³. Ù„Ø§ ØªÙÙˆØª Ø§Ù„ÙØ±ØµØ© Ù„Ù„Ø§Ø³ØªÙ…ØªØ§Ø¹ Ø¨Ø¨Ø´Ø±Ø© Ù…Ø´Ø±Ù‚Ø©.",
            offer_package_h: "ØªÙˆÙÙŠØ± Ø§Ù„Ø¨Ø§Ù‚Ø© Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬Ø©",
            offer_package_p: "Ø§Ø­Ø¬Ø² Ø¨Ø§Ù‚Ø© 'Ø´Ø¹Ø± ÙˆØ¯Ù‚Ù†' ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø­Ù…Ø§Ù… ÙƒØ±ÙŠÙ… Ù…Ø¬Ø§Ù†ÙŠ. Ø§Ù„Ø¹Ø±Ø¶ Ø³Ø§Ø±ÙŠ Ø­ØªÙ‰ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù‚Ø§Ø¯Ù….",
            offer_branch_moria_h: "Ø¹Ø±Ø¶ ÙØ±Ø¹ Ù…ÙˆØ±ÙŠØ§ Ù…ÙˆÙ„",
            offer_branch_moria_p: "Ø®Ø¯Ù…Ø© ØµØ¨ØºØ© Ø´Ø¹Ø± Ù…Ø¹ ØµØ¨ØºØ© Ø¯Ù‚Ù† Ø¨Ø³Ø¹Ø± 150 Ø¬Ù†ÙŠÙ‡Ø§Ù‹ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† 190 Ø¬Ù†ÙŠÙ‡Ø§Ù‹ (Ù„ÙØªØ±Ø© Ù…Ø­Ø¯ÙˆØ¯Ø©).",
            new_service_xtenso_h: "Ø®Ø¯Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©: Ù…Ø¹Ø§Ù„Ø¬ Xtenso",
            new_service_xtenso_p: "Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† Ø®Ø¯Ù…Ø© Ù…Ø¹Ø§Ù„Ø¬ Xtenso Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø´Ø¹Ø± Ø§Ù„Ù…Ø¬Ø¹Ø¯ Ø¥Ù„Ù‰ Ø´Ø¹Ø± Ù†Ø§Ø¹Ù… ÙˆÙ…Ø³ØªÙ‚ÙŠÙ… Ù„Ù…Ø¯Ø© Ø·ÙˆÙŠÙ„Ø©. Ø§Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯Ùƒ Ù„ØªØ¬Ø±Ø¨Ø© Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„ÙØ§Ø®Ø±Ø©.",
            
            // Services & Prices (Text Labels)
            pkg_hair_beard: "Ù‚Øµ Ø´Ø¹Ø± + Ù‚Øµ Ø¯Ù‚Ù†",
            pkg_hair_dry: "Ù‚Øµ Ø´Ø¹Ø± + Ø§Ø³ØªØ´ÙˆØ§Ø± Ø£Ùˆ ÙƒÙŠØ±Ù„ÙŠ",
            pkg_hair_beard_dry: "Ù‚Øµ Ø´Ø¹Ø± + Ù‚Øµ Ø¯Ù‚Ù† + Ø§Ø³ØªØ´ÙˆØ§Ø±",
            pkg_beard_dry: "Ù‚Øµ Ø¯Ù‚Ù† + Ø§Ø³ØªØ´ÙˆØ§Ø± Ø£Ùˆ ÙƒÙŠØ±Ù„ÙŠ",
            pkg_dye_all: "ØµØ¨ØºØ©/Ø­Ù†Ø§ Ø´Ø¹Ø± + ØµØ¨ØºØ© Ø¯Ù‚Ù†",
            srv_haircut: "Ù‚Øµ Ø´Ø¹Ø±",
            srv_kids: "Ù‚Øµ Ø´Ø¹Ø± Ù„Ù„Ø§Ø·ÙØ§Ù„",
            srv_beard: "Ù‚Øµ Ø§Ù„Ø¯Ù‚Ù†",
            srv_dry: "Ø§Ø³ØªØ´ÙˆØ§Ø± Ø£Ùˆ ÙƒÙŠØ±Ù„ÙŠ Ø£Ùˆ ÙˆÙŠÚ¤ÙŠ",
            srv_dye_hair: "ØµØ¨ØºØ© Ø´Ø¹Ø±",
            srv_dye_beard: "ØµØ¨ØºØ© Ø¯Ù‚Ù†",
            srv_topic: "ØªÙˆØ¨ÙŠÙƒ Ù„ÙØ±Ø§ØºØ§Øª Ø§Ù„Ø´Ø¹Ø±",
            srv_oil: "Ø­Ù…Ø§Ù… Ø²ÙŠØª",
            srv_cream: "Ø­Ù…Ø§Ù… ÙƒØ±ÙŠÙ…",
            srv_dandruff: "Ø¬Ù„Ø³Ø© Ø¥Ø²Ø§Ù„Ø© Ù‚Ø´Ø±Ø©",
            srv_wax: "Ø¬Ù„Ø³Ø© Ø´Ù…Ø¹",
            srv_thread: "ÙØªÙ„Ø©",
            srv_mask: "Ù…Ø§Ø³Ùƒ",
            srv_clean: "ØªÙ†Ø¸ÙŠÙ Ø¨Ø´Ø±Ø©",
            srv_hydra: "ØªÙ†Ø¸ÙŠÙ Ø¨Ø´Ø±Ø© Ù‡ÙŠØ¯Ø±Ø§ÙÙŠØ´ÙŠÙ„",
            srv_xtenso: "Ù…Ø¹Ø§Ù„Ø¬ Xtenso",
            srv_protein: "Ø¨Ø±ÙˆØªÙŠÙ† (Ø­Ø³Ø¨ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…)",

            // Prices
            price_200: "200 Ø¬.Ù…",
            price_250: "250 Ø¬.Ù…",
            price_180: "180 Ø¬.Ù…",
            price_190: "190 Ø¬.Ù…",
            price_150: "150 Ø¬.Ù…",
            price_100: "100 Ø¬.Ù…",
            price_80: "80 Ø¬.Ù…",
            price_120: "120 Ø¬.Ù…",
            price_70: "70 Ø¬.Ù…",
            price_130: "130 Ø¬.Ù…",
            price_50: "50 Ø¬.Ù…",
            price_300: "300 Ø¬.Ù…",
            price_500: "500 Ø¬.Ù…",
            price_protein: "50 Ø¬.Ù…/Ø¬Ù…"
        },
        en: {
            menu_title: "Menu",
            menu_rating: "Rate Service",
            menu_booking: "Book Appointment",
            menu_notifications: "Notifications & Offers",
            menu_call: "Call Now",
            menu_whatsapp: "WhatsApp",
            menu_gallery: "Gallery",
            menu_ai: "AI Assistant (Soon)", 
            rating_subtitle: "Your opinion matters...",
            notifications_subtitle: "Latest Offers and Discounts",
            select_branch: "--- Select Branch ---",
            branch_mahgoub: "New Damietta / Mahgoub St.",
            branch_moria: "New Damietta / Moria Mall",
            q_quality: "Haircut Quality",
            q_hygiene: "Salon Hygiene",
            q_friendliness: "Staff Friendliness",
            q_timing: "Punctuality",
            q_vibe: "Atmosphere",
            q_overall: "Overall Satisfaction",
            opt_excellent: "Excellent",
            opt_good: "Good",
            opt_bad: "Dissatisfied",
            opt_vibe_good: "Excellent (Chill & Quiet)",
            opt_vibe_avg: "Good (Acceptable)",
            opt_vibe_bad: "Average (Noisy)",
            sec_details: "Your Info (Optional)",
            ph_name_opt: "Name (Optional)",
            ph_phone_opt: "Phone (Optional)",
            ph_notes: "Write your notes here...",
            hide_my_info: "Keep my info anonymous.",
            btn_send_rating: "Send Rating",
            footer_thanks: "Thanks for trusting us ğŸ¤",
            booking_subtitle: "Book your appointment easily",
            ph_name: "Name",
            ph_phone: "Phone Number",
            sec_datetime: "Date & Time",
            sec_packages: "Packages",
            sec_single: "Individual Services",
            sec_total: "Estimated Total",
            ph_extra_notes: "Extra notes (e.g. allergies)",
            btn_confirm_booking: "Confirm Booking",
            ai_subtitle: "AI Assistant",
            ai_header: "Confused about your style?",
            ai_desc: "Chat with our virtual stylist for instant advice.",
            ai_greeting: "Welcome! I'm your personal assistant from Samy & Ahmed Salon. How can I help you choose your perfect haircut or beard style today?",
            ai_placeholder: "Type your question here...",
            ai_btn_send: "Send",
            modal_success: "Success!",
            modal_thanks: "Thank you.",
            modal_close: "Close",
            modal_rating_title: "Thank You!",
            modal_rating_msg: "We appreciate your feedback.",
            modal_booking_title: "Booking Received",
            modal_booking_msg: "We will contact you shortly to confirm.",
            currency: "EGP",
            designer_credit_text: "Design & Development by Mustafa Zuhair", /* FINAL UPDATE */

            // Notification Messages
            offer_summer_h: "Golden Summer Offer!",
            offer_summer_p: "20% off facial and hydrafacial services throughout August. Don't miss the chance for glowing skin.",
            offer_package_h: "Double Package Savings",
            offer_package_p: "Book the 'Hair & Beard' package and get a free Hair Cream Bath. Offer valid until the end of next week.",
            offer_branch_moria_h: "Moria Mall Branch Offer",
            offer_branch_moria_p: "Hair Dye and Beard Dye service for 150 EGP instead of 190 EGP (Limited time).",
            new_service_xtenso_h: "New Service: Xtenso Treatment",
            new_service_xtenso_p: "Book the Xtenso treatment now to transform curly hair into smooth, straight hair for a long duration. Book your appointment today!",

            // Services & Prices (Text Labels)
            pkg_hair_beard: "Haircut + Beard",
            pkg_hair_dry: "Haircut + Dry/Curly",
            pkg_hair_beard_dry: "Hair + Beard + Dry",
            pkg_beard_dry: "Beard + Dry/Curly",
            pkg_dye_all: "Hair Dye + Beard Dye",
            srv_haircut: "Haircut",
            srv_kids: "Kids Haircut",
            srv_beard: "Beard Trim",
            srv_dry: "Blowdry / Curly / Wavy",
            srv_dye_hair: "Hair Dye",
            srv_dye_beard: "Beard Dye",
            srv_topic: "Toppik (Hair Fibers)",
            srv_oil: "Oil Bath",
            srv_cream: "Cream Bath",
            srv_dandruff: "Anti-Dandruff Session",
            srv_wax: "Waxing",
            srv_thread: "Threading",
            srv_mask: "Face Mask",
            srv_clean: "Facial Cleaning",
            srv_hydra: "Hydrafacial",
            srv_xtenso: "X-tenso Treatment",
            srv_protein: "Protein (Per Gram)",

            // Prices
            price_200: "200 EGP",
            price_250: "250 EGP",
            price_180: "180 EGP",
            price_190: "190 EGP",
            price_150: "150 EGP",
            price_100: "100 EGP",
            price_80: "80 EGP",
            price_120: "120 EGP",
            price_70: "70 EGP",
            price_130: "130 EGP",
            price_50: "50 EGP",
            price_300: "300 EGP",
            price_500: "500 EGP",
            price_protein: "50 EGP/g"
        }
    };

    let currentLang = 'ar';
    
    // ==========================================
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
    // ==========================================
    document.addEventListener("DOMContentLoaded", function() {
        // Ø¶Ø¨Ø· Ø§Ù„ØªØ§Ø±ÙŠØ®
        const now = new Date();
        now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
        const dateInput = document.getElementById('booking-date');
        if(dateInput) dateInput.min = now.toISOString().slice(0,16);

        // Ø¶Ø¨Ø· Ø§Ù„Ø«ÙŠÙ…
        const themeBtn = document.getElementById('themeBtn');
        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark-mode');
            if(themeBtn) themeBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>'; // Sun Icon
        } else {
             if(themeBtn) themeBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21a9 9 0 0 1 0-18c1.64 0 3.03.62 4.12 1.71a6 6 0 0 0 0 8.58 9 9 0 0 1-4.12 1.71z"/><path d="M17.84 6.27a10 10 0 1 1-11.66 11.66"/></svg>'; // Moon Icon
        }

        // Ø¶Ø¨Ø· Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
        const savedLang = localStorage.getItem('lang');
        if (savedLang) {
            setLanguage(savedLang);
        } else {
            setLanguage('ar'); // Default
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ø±Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        calculateTotal();
        updateVisuals();
        
        // NEW: ØªØ´ØºÙŠÙ„ Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        handleScrollEffect();
    });

    // ==========================================
    // Language Logic
    // ==========================================
    function toggleLanguage() {
        const newLang = currentLang === 'ar' ? 'en' : 'ar';
        setLanguage(newLang);
    }

    function setLanguage(lang) {
        currentLang = lang;
        localStorage.setItem('lang', lang);
        
        // Update HTML attributes
        document.documentElement.lang = lang;
        document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
        
        // Update Toggle Button
        document.getElementById('langBtn').innerText = lang === 'ar' ? 'EN' : 'Ø¹Ø±Ø¨ÙŠ';

        // Update Text Content
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[lang][key]) {
                el.innerText = translations[lang][key];
            }
        });
        
        // Update Notification Card Titles/Content
        const notifications = document.querySelectorAll('#notifications-list [data-i18n]');
        notifications.forEach(el => {
            const key = el.getAttribute('data-i18n');
             if (translations[lang][key]) {
                el.innerText = translations[lang][key];
            }
        });


        // Update Placeholders
        const inputs = document.querySelectorAll('[data-i18n-placeholder]');
        inputs.forEach(input => {
            const key = input.getAttribute('data-i18n-placeholder');
            if (translations[lang][key]) {
                input.placeholder = translations[lang][key];
            }
        });
        
        // Manually set direction for AI result container
        const aiResults = document.getElementById('ai-results');
        if (aiResults) {
             aiResults.dir = lang === 'ar' ? 'rtl' : 'ltr';
        }

        // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ø³Ù… Ø§Ù„Ù…Ø·ÙˆØ±
        const designerCredit = document.querySelector('.designer-credit');
        if (designerCredit) {
            designerCredit.innerText = translations[lang]['designer_credit_text'];
        }

        // Re-calculate price to update currency format
        calculateTotal();
    }

    // ==========================================
    // Core Functions
    // ==========================================
    function triggerCalculation(element) {
        if (element.checked && element.closest('#packages-list')) {
            const packageBoxes = document.querySelectorAll('#packages-list input[type="checkbox"]');
            packageBoxes.forEach(pBox => {
                if (pBox !== element) {
                    pBox.checked = false;
                }
            });
        }
        updateVisuals();
        calculateTotal();
    }
    
    function forceUpdateVisuals(element) {
        updateVisuals();
    }

    function updateVisuals() {
        const allInputs = document.querySelectorAll('.options input, .faces input');
        allInputs.forEach(input => {
            const label = input.closest('label');
            if(label) {
                if(input.checked) {
                    label.classList.add('checked');
                } else {
                    label.classList.remove('checked');
                }
            }
        });
    }

    function calculateTotal() {
        const checkedBoxes = document.querySelectorAll('#booking-form input[type="checkbox"]:checked');
        let total = 0;

        checkedBoxes.forEach(box => {
            let priceVal = box.getAttribute('data-price');
            let price = parseFloat(priceVal);
            if (!isNaN(price)) {
                total += price;
            }
        });

        const totalField = document.getElementById('total-price');
        const currency = translations[currentLang].currency;
        if(totalField) {
            // Keep the numeric value clean for form submission if needed, but display with currency
            totalField.value = total.toFixed(2) + " " + currency;
        }
    }

    // ==========================================
    // SCROLL EFFECT LOGIC (CSS Class Driven)
    // ==========================================
    const SCROLL_THRESHOLD = 10; // Ù…Ø³Ø§ÙØ© Ø¨Ø³ÙŠØ·Ø© Ù„ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙ„Ø§Ø³

    function handleScrollEffect() {
        // Ù†Ø³ØªØ®Ø¯Ù… requestAnimationFrame Ù„ØªØ­Ø³ÙŠÙ† Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø³ÙƒØ±ÙˆÙ„
        window.requestAnimationFrame(() => {
            const scrollY = window.scrollY || window.pageYOffset;
            
            if (scrollY > SCROLL_THRESHOLD) {
                document.body.classList.add('scrolled');
            } else {
                document.body.classList.remove('scrolled');
            }
        });
    }

    // Ø±Ø¨Ø· Ø§Ù„Ø¯Ø§Ù„Ø© Ø¨Ø­Ø¯Ø« Ø§Ù„ØªÙ…Ø±ÙŠØ± (ØªÙ… ØªØµØ­ÙŠØ­ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡)
    window.addEventListener('scroll', handleScrollEffect);
    // ==========================================
    
    // ==========================================
    // AI Chat Logic
    // ==========================================
    function createMessageElement(text, isUser) {
        const div = document.createElement('div');
        div.className = 'message-box ' + (isUser ? 'user-message' : 'ai-message');
        div.innerText = text;
        return div;
    }

    function showLoading() {
        const resultsDiv = document.getElementById('ai-results');
        const loading = createMessageElement(translations[currentLang].ai_loading, false);
        loading.id = 'ai-loading-message';
        loading.style.alignSelf = 'center';
        loading.style.width = 'fit-content';
        resultsDiv.appendChild(loading);
        resultsDiv.scrollTop = resultsDiv.scrollHeight;
    }

    function hideLoading() {
        const loading = document.getElementById('ai-loading-message');
        if (loading) loading.remove();
    }

    async function handleAIChat(event) {
        event.preventDefault();
        const input = document.getElementById('ai-input');
        const userQuery = input.value.trim();
        const resultsDiv = document.getElementById('ai-results');
        const sendBtn = document.getElementById('ai-send-btn');
        const originalBtnText = sendBtn.innerText;

        if (!userQuery) return;
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙØªØ§Ø­ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙØ¹Ù„ÙŠ
        if (!API_KEY || API_KEY.startsWith("AIzaSyA")) {
             resultsDiv.appendChild(createMessageElement(currentLang === 'ar' ? "Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø´Ø®ØµÙŠ ØºÙŠØ± Ù…ÙØ¹Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹." : "AI Assistant is currently disabled.", false));
             input.value = '';
             resultsDiv.scrollTop = resultsDiv.scrollHeight;
             return;
        }


        // Display user message
        resultsDiv.appendChild(createMessageElement(userQuery, true));
        input.value = '';
        resultsDiv.scrollTop = resultsDiv.scrollHeight;
        
        // Disable input and button
        sendBtn.disabled = true;
        sendBtn.innerText = '...';
        showLoading();

        try {
            const responseText = await callGeminiAPI(userQuery);
            
            // Display AI response
            resultsDiv.appendChild(createMessageElement(responseText, false));

        } catch (error) {
            console.error("Gemini API Error:", error);
            // Ø·Ø¨Ø§Ø¹Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø·Ø£ Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ† ÙÙŠ Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„
            console.log("Detailed Error Message:", error.message);
            const errorMessage = translations[currentLang].ai_error;
            resultsDiv.appendChild(createMessageElement(errorMessage, false));

        } finally {
            hideLoading();
            sendBtn.disabled = false;
            sendBtn.innerText = originalBtnText;
            resultsDiv.scrollTop = resultsDiv.scrollHeight;
        }
    }

    async function callGeminiAPI(userQuery, retryCount = 0) {
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${AI_MODEL}:generateContent?key=${API_KEY}`;
        const payload = {
            contents: [{ parts: [{ text: userQuery }] }],
            systemInstruction: { parts: [{ text: systemPrompt }] },
            // Setting lang as the preferred response language (Arabic/English)
            generationConfig: {
                language: currentLang === 'ar' ? 'ar' : 'en' 
            }
        };

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            if (!response.ok) {
                // Throw an error that includes status for debugging
                const errorBody = await response.text();
                throw new Error(`HTTP error! status: ${response.status} - Body: ${errorBody}`);
            }

            const result = await response.json();
            const text = result.candidates?.[0]?.content?.parts?.[0]?.text;

            if (text) {
                return text;
            } else {
                // If API returns success but no text (e.g., blocked content)
                const finishReason = result.candidates?.[0]?.finishReason || 'UNKNOWN';
                if(finishReason === 'SAFETY') {
                    return currentLang === 'ar' ? "Ø£Ù†Ø§ Ø¢Ø³ÙØŒ Ù„Ø§ Ø£Ø³ØªØ·ÙŠØ¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù„Ø£Ù†Ù‡ ÙŠØªØ¹Ø§Ø±Ø¶ Ù…Ø¹ Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù†." : "I apologize, I cannot answer that question as it violates safety guidelines.";
                }
                throw new Error("Invalid response structure or no text generated from API. Reason: " + finishReason);
            }

        } catch (error) {
            if (retryCount < MAX_RETRIES) {
                console.warn(`Retrying API call (${retryCount + 1}/${MAX_RETRIES})...`);
                const delay = Math.pow(2, retryCount) * 1000; // 1s, 2s, 4s
                await new Promise(resolve => setTimeout(resolve, delay));
                return callGeminiAPI(userQuery, retryCount + 1);
            }
            throw error; // Re-throw the error after max retries
        }
    }


    // ==========================================
    // UI Logic
    // ==========================================
    function toggleMenu() {
        // ØªÙ… ØªØ­Ø¯ÙŠØ« ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ù„ØªØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ù…Ù†Ø·Ù‚ CSS Ø§Ù„Ø¬Ø¯ÙŠØ¯
        const sideMenu = document.getElementById('sideMenu');
        const overlay = document.getElementById('overlay');
        
        sideMenu.classList.toggle('open');
        overlay.classList.toggle('active');
        document.body.classList.toggle('no-scroll');
    }

    function switchPage(pageId) {
        document.getElementById('rating-page').style.display = 'none';
        document.getElementById('booking-page').style.display = 'none';
        document.getElementById('ai-page').style.display = 'none';
        document.getElementById('notifications-page').style.display = 'none';
        
        const targetPage = document.getElementById(pageId + '-page');
        if (targetPage) {
             targetPage.style.display = 'block';
        }
        
        // ÙŠØ¬Ø¨ Ø£Ù† Ù†ØºÙ„Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒÙ†Ø§ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
        const sideMenu = document.getElementById('sideMenu');
        if (sideMenu.classList.contains('open')) {
            toggleMenu();
        }
        
        window.scrollTo(0,0);
        
        if(pageId === 'booking') {
            setTimeout(() => {
                updateVisuals();
                calculateTotal();
            }, 100);
        }
        
        // Manually set direction for AI result container on page switch
        if (pageId === 'ai') {
             const aiResults = document.getElementById('ai-results');
             if (aiResults) {
                aiResults.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
                aiResults.scrollTop = aiResults.scrollHeight;
             }
        }
    }

    function toggleTheme() {
        const themeBtn = document.getElementById('themeBtn');
        document.body.classList.toggle('dark-mode');
        if (document.body.classList.contains('dark-mode')) {
            themeBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>'; // Sun Icon
            localStorage.setItem('theme', 'dark');
        } else {
            themeBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21a9 9 0 0 1 0-18c1.64 0 3.03.62 4.12 1.71a6 6 0 0 0 0 8.58 9 9 0 0 1-4.12 1.71z"/><path d="M17.84 6.27a10 10 0 1 1-11.66 11.66"/></svg>'; // Moon Icon
            localStorage.setItem('theme', 'light');
        }
    }

    // ==========================================
    // Submission Logic
    // ==========================================
    async function handleFormSubmit(event, type) {
        event.preventDefault();
        
        const form = event.target;
        const btn = form.querySelector('button[type="submit"]');
        const originalText = btn.innerText;
        
        btn.disabled = true;
        btn.innerText = currentLang === 'ar' ? "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„..." : "Sending...";

        const formData = new FormData(form);

        if(type === 'booking') {
            let selectedServices = [];
            const checkedBoxes = document.querySelectorAll('#booking-form input[type="checkbox"]:checked');
            
            
            checkedBoxes.forEach(box => {
                 // We prefer the 'value' attribute because it remains in Arabic even if UI is English
                 // This ensures Samy & Ahmed read it in Arabic.
                 selectedServices.push(box.value);
            });
            
            formData.append('Ø§Ù„Ø®Ø¯Ù…Ø§Øª_Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©', selectedServices.join(' + '));
            formData.append('Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ_Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ', document.getElementById('total-price').value);
        }

        try {
            // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ø§Ø¨Ø· Formspree Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
            const response = await fetch("https://formspree.io/f/xvgelvjp", {
                method: "POST",
                body: formData,
                headers: { 'Accept': 'application/json' }
            });

            if (response.ok) {
                form.reset();
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØµÙÙŠØ± Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø±Ø¦ÙŠØ© Ø¨Ø¹Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø­Ø¬Ø²
                if(type === 'booking') {
                    updateVisuals(); 
                    calculateTotal();
                }
                showModal(type);
            } else {
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ Ù…Ù† Formspree
                const errorData = await response.json();
                const errorMessage = errorData.error || (currentLang === 'ar' ? "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„." : "Error sending form.");
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø§ÙØ°Ø© Ù…ÙˆØ¯Ø§Ù„ Ø¨Ø¯Ù„Ù‹Ø§ Ù…Ù† alert()
                showModal('error', errorMessage);
            }
        } catch (error) {
            // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø§ÙØ°Ø© Ù…ÙˆØ¯Ø§Ù„ Ø¨Ø¯Ù„Ù‹Ø§ Ù…Ù† alert()
            showModal('error', currentLang === 'ar' ? "ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª." : "Connection error. Check your internet connection.");
        } finally {
            btn.disabled = false;
            btn.innerText = originalText;
        }
    }

    function showModal(type, errorMessage = null) {
        const modal = document.getElementById('modal-overlay');
        const title = document.getElementById('modal-title');
        const msg = document.getElementById('modal-msg');
        const icon = document.getElementById('modal-icon');
        const closeBtn = document.querySelector('.modal-close-btn');

        if(type === 'rating') {
            icon.innerText = "â­";
            icon.style.color = '#c9a24d';
            title.innerText = translations[currentLang].modal_rating_title;
            msg.innerText = translations[currentLang].modal_rating_msg;
            closeBtn.style.backgroundColor = 'var(--primary-gold)';
        } else if (type === 'booking') {
            icon.innerText = "âœ…";
            icon.style.color = '#2ecc71';
            title.innerText = translations[currentLang].modal_booking_title;
            msg.innerText = translations[currentLang].modal_booking_msg;
            closeBtn.style.backgroundColor = '#2ecc71';
        } else if (type === 'error') {
            icon.innerText = "âŒ";
            icon.style.color = '#e74c3c';
            title.innerText = currentLang === 'ar' ? "Ø®Ø·Ø£!" : "Error!";
            msg.innerText = errorMessage;
            closeBtn.style.backgroundColor = '#e74c3c';
        }
        
        // Also update button text inside modal dynamically
        closeBtn.innerText = translations[currentLang].modal_close;
        
        modal.classList.add('active');
    }

    function closeModal() {
        document.getElementById('modal-overlay').classList.remove('active');
    }
</script>

</body>
</html>

